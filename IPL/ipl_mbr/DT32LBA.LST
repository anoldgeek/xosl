Turbo Assembler	 Version 3.1	    01/04/18 11:32:04	    Page 1
dt32lba.asm



      1					 ;
      2					 ; Extended Operating System Loader (XOSL)
      3					 ; Copyright (c) 1999 by Geurt Vos
      4					 ;
      5					 ; This	code is	distributed under GNU General Public License (GPL)
      6					 ;
      7					 ; The full text of the	license	can be found in	the GPL.TXT file,
      8					 ; or at http://www.gnu.org
      9					 ;
     10
     11					 ;/*
     12					 ; * File  : INITDATA.ASM
     13					 ; * Author: Geurt Vos
     14					 ; * Date  : March 1999
     15					 ; *
     16					 ; * All pre-initialized IPL data.
     17					 ; */
     18
     19	    0000					 .model	 tiny
     20							 .386p
     21	    0000					 .code
     22
     23							 public	 LoaderName
     24							 public	 DriveNumber, ABSSectorStart
     25							 public	 ClusterSectSize, ClusterByteSize
     26							 public	 FATStart, DataStart
     27							 public	 RootCluster
     28
     29							 public	 LBAPacket, SectorCount
     30							 public	 TransferBuffer, Sector
     31
     32	    0000  58 4F	53 4C 4C 4F 41+	 LoaderName	 db	 'XOSLLOADXCF'
     33		  44 58	43 46
     34
     35		  =DGROUP:000B		 LBAPacket	 equ	 this byte
     36	    000B  0010					 dw	 0010h
     37	    000D  0000			 SectorCount	 dw	 0
     38	    000F  00000000		 TransferBuffer	 dd	 0
     39	    0013  0000000000000000	 Sector		 dq	 0
     40
     41	    001B  05*(00)				 db	 5 dup (0)	 ;Tune filesize	ipl0blba.bin to	440 bytes
     42
     43	    0020  0008			 ClusterSectSize dw	 0008h
     44	    0022  1000			 ClusterByteSize dw	 1000h
     45	    0024  00000020		 FATStart	 dd	 00000020h
     46	    0028  000007F0		 DataStart	 dd	 000007f0h
     47	    002C  00000002		 RootCluster	 dd	 00000002h
     48
     49	    0030  0B			 FSType		 db	 0bh
     50	    0031  80			 DriveNumber	 db	 80h
     51	    0032  00415680		 ABSSectorStart	 dd	 00415680h
     52
     53	    0036  00000000		 Password	 dd	 0
     54
     55							 end
Turbo Assembler	 Version 3.1	    01/04/18 11:32:04	    Page 2
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "01/04/18"
??FILENAME			  Text	 "dt32lba "
??TIME				  Text	 "11:32:04"
??VERSION			  Number 030A
@32BIT				  Text	 0
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0F8FH
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 DT32LBA
@INTERFACE			  Text	 00H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
ABSSECTORSTART (ABSSectorStart)	  Dword	 DGROUP:0032
CLUSTERBYTESIZE		       +  Word	 DGROUP:0022
(ClusterByteSize)
CLUSTERSECTSIZE		       +  Word	 DGROUP:0020
(ClusterSectSize)
DATASTART (DataStart)		  Dword	 DGROUP:0028
DRIVENUMBER (DriveNumber)	  Byte	 DGROUP:0031
FATSTART (FATStart)		  Dword	 DGROUP:0024
FSTYPE				  Byte	 DGROUP:0030
LBAPACKET (LBAPacket)		  Number DGROUP:000B
LOADERNAME (LoaderName)		  Byte	 DGROUP:0000
PASSWORD			  Dword	 DGROUP:0036
ROOTCLUSTER (RootCluster)	  Dword	 DGROUP:002C
SECTOR (Sector)			  Qword	 DGROUP:0013
SECTORCOUNT (SectorCount)	  Word	 DGROUP:000D
TRANSFERBUFFER (TransferBuffer)	  Dword	 DGROUP:000F

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  003A Word	  Public  CODE
