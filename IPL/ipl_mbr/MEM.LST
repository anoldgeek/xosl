Turbo Assembler	 Version 3.1	    30/03/18 18:58:54	    Page 1
mem.asm



      1					 ;
      2					 ; Extended Operating System Loader (XOSL)
      3					 ; Copyright (c) 1999 by Geurt Vos
      4					 ;
      5					 ; This	code is	distributed under GNU General Public License (GPL)
      6					 ;
      7					 ; The full text of the	license	can be found in	the GPL.TXT file,
      8					 ; or at http://www.gnu.org
      9					 ;
     10
     11					 ;/*
     12					 ; * File  : MEM.ASM
     13					 ; * Author: Geurt Vos
     14					 ; * Date  : March 1999
     15					 ; *
     16					 ; * Memory compare function
     17					 ; */
     18
     19	    0000					 .model	 tiny
     20							 .386p
     21	    0000					 .code
     22							 public	 MemCompare
     23
     24					 ;int MemCompare(const void far	*s1, const void	far *s2, U16B count);
     25					 ;Return: ax ==	0 on equal
     26	    0000			 MemCompare	 proc
     27	    0000  55					 push	 bp
     28	    0001  8B EC					 mov	 bp,sp
     29	    0003  56					 push	 si
     30	    0004  57					 push	 di
     31	    0005  1E					 push	 ds
     32
     33	    0006  33 C0					 xor	 ax,ax
     34	    0008  C4 7E	04				 les	 di,[bp	+ 4]
     35	    000B  C5 76	08				 lds	 si,[bp	+ 8]
     36	    000E  8B 4E	0C				 mov	 cx,[bp	+ 12]
     37	    0011  FC					 cld
     38	    0012  F3> A6				 repz	  cmpsb		 ;ML replace rep cmpsb with repz cmpsb	(repz:	    +
     39					 repeat	while CX!=0 and	zero-flag=1)
     40	    0014  0F 95	C0				 setne	 al
     41	    0017  1F					 pop	 ds
     42	    0018  5F					 pop	 di
     43	    0019  5E					 pop	 si
     44	    001A  5D					 pop	 bp
     45	    001B  C3					 ret
     46	    001C			 MemCompare	 endp
     47
     48							 end
Turbo Assembler	 Version 3.1	    30/03/18 18:58:54	    Page 2
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "30/03/18"
??FILENAME			  Text	 "mem	  "
??TIME				  Text	 "18:58:54"
??VERSION			  Number 030A
@32BIT				  Text	 0
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0F8FH
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 MEM
@INTERFACE			  Text	 00H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
MEMCOMPARE (MemCompare)		  Near	 DGROUP:0000

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  001C Word	  Public  CODE
